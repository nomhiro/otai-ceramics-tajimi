---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const featuredProducts = await getCollection('products', ({ data }) => data.featured);
const latestNews = await getCollection('news');

const seriesList = [
  { slug: 'some', name: '染付', description: '呉須による藍色の絵付け' },
  { slug: 'tori', name: '鳥絵', description: '鳥をモチーフにした絵付け' },
  { slug: 'raku', name: '楽々絵', description: '楽しい雰囲気の絵付け' },
  { slug: 'nirin', name: '二輪花', description: '白釉に二輪花の絵付け' },
  { slug: 'bara', name: 'ばら絵', description: 'バラをモチーフにした絵付け' },
  { slug: 'sono', name: '動物絵', description: '動物をモチーフにした絵付け' },
  { slug: 'roku', name: '波絵', description: '波をモチーフにした絵付け' },
  { slug: 'akae', name: '赤絵', description: '赤色を基調にした絵付け' },
];
---

<BaseLayout title="ホーム">
  <!-- Hero Section -->
  <section class="relative bg-gosu-blue text-white py-24 md:py-32">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h1 class="font-serif text-3xl md:text-5xl mb-6 leading-relaxed">
        美濃焼の伝統と<br class="md:hidden" />欧州の作風を融合
      </h1>
      <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
        陶器の町、岐阜県多治見市より、南欧風オリジナル陶器とお酒の徳利、盃をお届けします
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/products/" class="btn-primary bg-white text-gosu-blue">商品を見る</a>
        <a href="/contact/" class="btn-secondary border-white text-white hover:bg-white hover:text-gosu-blue">お問い合わせ</a>
      </div>
    </div>
  </section>

  <!-- Introduction -->
  <section class="py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 class="section-title">小田井窯について</h2>
      <p class="text-lg leading-relaxed text-gray-700 mb-8">
        小田井窯では、美濃焼伝統の技術の中に欧州の作風を取り入れて、特色のある作品を創り出しております。
        コバルト色の美しい洋皿、一風変わった染付、飾り皿などは、きっとお使いいただく皆様方の心に、潤いを与えるものと存じます。
      </p>
      <p class="text-lg leading-relaxed text-gray-700 mb-8">
        陶器に関する事ならまず、<strong>生産者</strong>であり、<strong>商社</strong>でもある<strong>小田井窯</strong>にご相談ください。
        お客様のオリジナル商品など、ご希望を叶えるためのアイデアをご提案いたします。
      </p>
      <a href="/about/" class="btn-secondary">詳しく見る</a>
    </div>
  </section>

  <!-- Series -->
  <section class="py-16 md:py-24 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="section-title">商品シリーズ</h2>
      <p class="text-center text-gray-600 mb-12">
        商品はすべて手描きです。ひとつひとつ職人が丹精こめて描きました。
      </p>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
        {seriesList.map((series) => (
          <a
            href={`/products/?series=${series.slug}`}
            class="product-card p-6 text-center group"
          >
            <div class="w-16 h-16 mx-auto mb-4 bg-kinari rounded-full flex items-center justify-center">
              <span class="font-serif text-2xl text-gosu-blue">{series.name[0]}</span>
            </div>
            <h3 class="font-serif text-lg text-sumi group-hover:text-gosu-blue transition-colors">
              {series.name}
            </h3>
            <p class="text-sm text-gray-500 mt-2">{series.description}</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  {featuredProducts.length > 0 && (
    <section class="py-16 md:py-24">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="section-title">おすすめ商品</h2>
        <div class="grid md:grid-cols-3 gap-8">
          {featuredProducts.slice(0, 3).map((product) => (
            <a href={`/products/${product.data.slug}/`} class="product-card group">
              <div class="aspect-square bg-gray-100">
                <img
                  src={product.data.images[0]}
                  alt={product.data.title}
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>
              <div class="p-4">
                <h3 class="font-serif text-lg text-sumi group-hover:text-gosu-blue transition-colors">
                  {product.data.title}
                </h3>
                <p class="text-gosu-blue font-medium mt-2">
                  ¥{product.data.price.toLocaleString()}
                </p>
              </div>
            </a>
          ))}
        </div>
        <div class="text-center mt-8">
          <a href="/products/" class="btn-secondary">すべての商品を見る</a>
        </div>
      </div>
    </section>
  )}

  <!-- Custom Orders -->
  <section class="py-16 md:py-24 bg-gosu-blue text-white">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 class="font-serif text-2xl md:text-3xl mb-6">オリジナル制作・OEM</h2>
      <p class="text-lg text-gray-300 mb-8">
        飲食店様の名入れ徳利盃、記念品、オリジナル食器など、
        お客様のご要望に合わせた陶器をお作りします。
      </p>
      <ul class="text-left max-w-md mx-auto mb-8 space-y-2">
        <li class="flex items-center gap-2">
          <span class="text-akae-red">✓</span>
          マグカップ印入り 250円〜
        </li>
        <li class="flex items-center gap-2">
          <span class="text-akae-red">✓</span>
          手描きオリジナルカップ 1,500円〜
        </li>
        <li class="flex items-center gap-2">
          <span class="text-akae-red">✓</span>
          名入れ徳利盃（盃100円〜、徳利200円〜）
        </li>
      </ul>
      <a href="/custom/" class="btn-primary bg-white text-gosu-blue">詳しく見る</a>
    </div>
  </section>

  <!-- Contact CTA -->
  <section class="py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 class="section-title">お問い合わせ</h2>
      <p class="text-lg text-gray-700 mb-8">
        商品のご質問、カタログのご請求、オリジナル制作のご相談など、
        お気軽にお問い合わせください。
      </p>
      <a href="/contact/" class="btn-primary">お問い合わせフォームへ</a>
    </div>
  </section>
</BaseLayout>
