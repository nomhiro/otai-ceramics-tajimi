---
/**
 * 酒器専門ページ
 * 徳利・盃の専門カタログ
 */
import BaseLayout from '../../layouts/BaseLayout.astro';
import SectionTitle from '../../components/SectionTitle.astro';
import { getCollection } from 'astro:content';

// 酒器コレクションからデータを取得
const sakeware = await getCollection('sakeware');
const tokuri = sakeware.filter(item => item.data.type === 'tokuri');
const choko = sakeware.filter(item => item.data.type === 'choko');

// 猪口をカテゴリ分け
const guinomi = choko.filter(item => item.data.title.includes('ぐい呑み'));
const chokoItems = choko.filter(item => item.data.title.includes('猪口'));
const hiragai = choko.filter(item => item.data.title.includes('平盃'));
const katakuchi = choko.filter(item => item.data.title.includes('片口'));
---

<BaseLayout title="徳利・盃 - 酒器専門" description="小田井窯の徳利・盃専門ページ。オリジナルの名入れ酒器、料亭・居酒屋向けの業務用酒器も承ります。">
  <!-- ヒーロー -->
  <section class="bg-ai text-hakuji section-padding-sm">
    <div class="container-ma text-center">
      <h1 class="hero-title font-serif text-3xl md:text-4xl lg:text-5xl mb-6 tracking-wider">徳利・盃</h1>
      <p class="hero-subtitle text-hakuji/80 text-lg">酒を愉しむための器</p>
    </div>
  </section>

  <!-- イントロダクション -->
  <section class="section-padding">
    <div class="container-ma">
      <div class="prose-content space-y-6 text-sumi/80 text-lg leading-loose text-center">
        <p>
          日本酒を味わう時間をより豊かにする、小田井窯の酒器。<br />
          徳利と盃の組み合わせで、お酒の味わいも雰囲気も変わります。
        </p>
        <p>
          飲食店様向けの<strong class="text-ai">オリジナル名入れ酒器</strong>も承っております。<br />
          店名やロゴを入れた徳利・盃で、お店の個性を演出しませんか。
        </p>
      </div>
    </div>
  </section>

  <!-- 徳利一覧 -->
  <section class="section-padding bg-hakuji">
    <div class="container-ma">
      <SectionTitle title="徳利（とっくり）" subtitle="{tokuri.length}種類" />
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {tokuri.map((item) => (
          <div class="sake-card bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
            <div class="aspect-square bg-kinari">
              <img
                src={item.data.images[0]}
                alt={item.data.title}
                class="w-full h-full object-cover"
                loading="lazy"
                onerror="this.onerror=null; this.src='/images/placeholder-sake.svg';"
              />
            </div>
            <div class="p-4 text-center">
              <h3 class="font-serif text-sm md:text-base text-ai mb-1">{item.data.title}</h3>
              {item.data.capacity && (
                <p class="text-sumi/60 text-xs">{item.data.capacity}</p>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- 猪口・ぐい呑み -->
  <section class="section-padding">
    <div class="container-ma">
      <SectionTitle title="猪口・ぐい呑み" subtitle="お酒を味わう器" />
      <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
        {[...chokoItems, ...guinomi].map((item) => (
          <div class="sake-card bg-hakuji rounded-lg overflow-hidden hover:shadow-md transition-shadow">
            <div class="aspect-square bg-white">
              <img
                src={item.data.images[0]}
                alt={item.data.title}
                class="w-full h-full object-cover"
                loading="lazy"
                onerror="this.onerror=null; this.src='/images/placeholder-sake.svg';"
              />
            </div>
            <div class="p-3 text-center">
              <h3 class="font-serif text-xs md:text-sm text-ai">{item.data.title}</h3>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- 平盃 -->
  {hiragai.length > 0 && (
    <section class="section-padding bg-kinari">
      <div class="container-ma">
        <SectionTitle title="平盃（ひらはい）" subtitle="香りを楽しむ器" />
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
          {hiragai.map((item) => (
            <div class="sake-card bg-white rounded-lg overflow-hidden hover:shadow-md transition-shadow">
              <div class="aspect-square">
                <img
                  src={item.data.images[0]}
                  alt={item.data.title}
                  class="w-full h-full object-cover"
                  loading="lazy"
                  onerror="this.onerror=null; this.src='/images/placeholder-sake.svg';"
                />
              </div>
              <div class="p-3 text-center">
                <h3 class="font-serif text-xs md:text-sm text-ai">{item.data.title}</h3>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- 片口 -->
  {katakuchi.length > 0 && (
    <section class="section-padding">
      <div class="container-ma">
        <SectionTitle title="片口（かたくち）" subtitle="注ぎ口のある器" />
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
          {katakuchi.map((item) => (
            <div class="sake-card bg-hakuji rounded-lg overflow-hidden hover:shadow-md transition-shadow">
              <div class="aspect-square bg-white">
                <img
                  src={item.data.images[0]}
                  alt={item.data.title}
                  class="w-full h-full object-cover"
                  loading="lazy"
                  onerror="this.onerror=null; this.src='/images/placeholder-sake.svg';"
                />
              </div>
              <div class="p-3 text-center">
                <h3 class="font-serif text-sm text-ai">{item.data.title}</h3>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- オリジナル名入れ -->
  <section class="section-padding bg-ai text-hakuji">
    <div class="container-ma">
      <SectionTitle title="オリジナル名入れ酒器" subtitle="飲食店様・企業様向け" align="center" />
      <div class="space-y-8">
        <p class="text-center text-hakuji/90 text-lg">
          店名、ロゴ、オリジナルデザインを入れた酒器を制作いたします。<br />
          料亭、居酒屋、旅館など、多くの飲食店様にご利用いただいております。
        </p>

        <div class="grid md:grid-cols-3 gap-6">
          <div class="text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-hakuji/20 rounded-full flex items-center justify-center">
              <span class="text-2xl">&#x1F3EE;</span>
            </div>
            <h3 class="font-serif text-lg mb-2">居酒屋・料亭</h3>
            <p class="text-hakuji/70 text-sm">
              店名入りの統一感ある酒器でお店の格を上げます
            </p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-hakuji/20 rounded-full flex items-center justify-center">
              <span class="text-2xl">&#x1F3E8;</span>
            </div>
            <h3 class="font-serif text-lg mb-2">旅館・ホテル</h3>
            <p class="text-hakuji/70 text-sm">
              おもてなしの心を形に。記念に持ち帰れるサービスにも
            </p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-hakuji/20 rounded-full flex items-center justify-center">
              <span class="text-2xl">&#x1F376;</span>
            </div>
            <h3 class="font-serif text-lg mb-2">酒蔵・酒販店</h3>
            <p class="text-hakuji/70 text-sm">
              銘柄に合わせたオリジナル酒器で差別化を
            </p>
          </div>
        </div>

        <div class="text-center pt-4">
          <a href="/custom/" class="btn-secondary inline-block">
            オリジナル制作について
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- 酒器の選び方 -->
  <section class="section-padding">
    <div class="container-ma">
      <SectionTitle title="酒器の選び方" />
      <div class="space-y-8">
        <div class="tip-card flex gap-6 items-start">
          <div class="flex-shrink-0 w-12 h-12 bg-shu rounded-full flex items-center justify-center">
            <span class="text-hakuji font-bold">1</span>
          </div>
          <div>
            <h3 class="font-serif text-lg text-ai mb-2">飲む温度で選ぶ</h3>
            <p class="text-sumi/80">
              <strong>熱燗</strong>には厚手で口が広めの器、<strong>冷酒</strong>には薄手でシャープな形の器がおすすめです。
              器の形状で口当たりや香りの立ち方が変わります。
            </p>
          </div>
        </div>
        <div class="tip-card flex gap-6 items-start">
          <div class="flex-shrink-0 w-12 h-12 bg-shu rounded-full flex items-center justify-center">
            <span class="text-hakuji font-bold">2</span>
          </div>
          <div>
            <h3 class="font-serif text-lg text-ai mb-2">お酒の種類で選ぶ</h3>
            <p class="text-sumi/80">
              <strong>純米酒</strong>には素朴な風合いの陶器、<strong>大吟醸</strong>には繊細な磁器や平盃が合います。
              お酒の個性を引き立てる器選びを楽しんでください。
            </p>
          </div>
        </div>
        <div class="tip-card flex gap-6 items-start">
          <div class="flex-shrink-0 w-12 h-12 bg-shu rounded-full flex items-center justify-center">
            <span class="text-hakuji font-bold">3</span>
          </div>
          <div>
            <h3 class="font-serif text-lg text-ai mb-2">シーンで選ぶ</h3>
            <p class="text-sumi/80">
              一人の晩酌、大切な人との食事、おもてなしの席。
              シーンに合わせて器を変えることで、お酒の時間がより豊かになります。
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- お問い合わせ -->
  <section class="section-padding bg-hakuji">
    <div class="container-ma text-center">
      <SectionTitle title="酒器のご相談" />
      <p class="text-sumi/80 text-lg mb-6">
        酒器選びのご相談、名入れ酒器のお見積もりなど、お気軽にお問い合わせください。
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <a href="/contact/" class="btn-primary inline-block">
          お問い合わせ
        </a>
        <a href="/products/" class="btn-secondary inline-block">
          商品一覧へ
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<!-- アニメーション -->
<script>
  import { gsap, prefersReducedMotion } from '../../utils/animations';

  window.addEventListener('gsap:ready', () => {
    if (prefersReducedMotion()) return;

    // ヒーローアニメーション
    const heroTl = gsap.timeline({ defaults: { ease: 'power3.out' } });
    heroTl
      .from('.hero-title', { y: 50, opacity: 0, duration: 0.8 })
      .from('.hero-subtitle', { y: 30, opacity: 0, duration: 0.6 }, '-=0.4');

    // カード
    gsap.from('.sake-card', {
      y: 40,
      opacity: 0,
      duration: 0.6,
      stagger: 0.05,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.sake-card',
        start: 'top 85%',
        toggleActions: 'play none none reverse',
      },
    });

    // ヒント
    gsap.from('.tip-card', {
      x: -30,
      opacity: 0,
      duration: 0.6,
      stagger: 0.2,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.tip-card',
        start: 'top 80%',
        toggleActions: 'play none none reverse',
      },
    });
  });
</script>
